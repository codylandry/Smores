<h1 id="smores.smores">smores.smores</h1>


<h2 id="smores.smores.Smores">Smores</h2>

```python
Smores(self, default_template_name='_default_template')
```

Provides a method of defining a schema for string templates.  Presents a tag syntax
easy enough for end users to use.

__Arguments:__

	default_template_name (str): The name you'd like to use for default schema templates

<h3 id="smores.smores.Smores.render">render</h3>

```python
Smores.render(self, data, template_string, sub_templates=None, fallback_value='', pre_process=None)
```

Recursively populates the 'template_string' with data gathered from dumping 'data' through the Marshmallow 'schema'.
Variables are evaluated and will return the '_default_template' if one exists.  Prettifies end result.

__Arguments__

- __data (dict)__: data to be dumped via the 'schema' (likely an ORM model instance) accepts both objects and dicts/lists
- __template_string (str)__: text generated by end-users
- __sub_templates (dict)__: mapping of subtemplate tag to expanded sub template string
- __fallback_value (str|function|None)__: either string or function returning a string to serve as default value for tag attrs that cannot be resolved
- __pre_process (function)__: function that modifies the parsed version of the template

__Returns:__

	string: rendered template

<h3 id="smores.smores.Smores.remove_schemas">remove_schemas</h3>

```python
Smores.remove_schemas(self, schemas)
```

Unregisters schema(s)

__Arguments:__

	schemas (Schema|list): schemas to unregister

<h3 id="smores.smores.Smores.autocomplete">autocomplete</h3>

```python
Smores.autocomplete(self, fragment, only=None, exclude=None)
```

Evaluates a tag fragment, returns a named tuple with the status of the fragment
as it is, and possible options that could be used to expand/add to the fragment.

__Arguments:__

	fragment (string): a tag fragment ex: user.addresses
	only (list): a list of schemas that should be included
	exclude (list): a list of schemas that should be excluded

__Returns:__

	AutocompleteResponse: NamedTuple with both the status of the current tag fragment as well as possible options

__Example:__

    >>> smores.autocomplete("")
    AutocompleteResponse(tagStatus='INVALID', options=['address', 'coordinates', 'user'])

    >>> smores.autocomplete('user')
    AutocompleteResponse(tagStatus='VALID', options=['_default_template', 'address', 'email', 'id', 'name'])

    >>> smores.autocomplete('us')
    AutocompleteResponse(tagStatus='INVALID', options=['user'])

    >>> smores.autocomplete("user.address.coordinates")
    AutocompleteResponse(tagStatus='VALID', options=['_default_template', 'lat', 'lng'])

<h3 id="smores.smores.Smores.schemas">schemas</h3>


Property that returns a list of registered schemas

__Returns:__

	list: Currently registered schemas

<h3 id="smores.smores.Smores.add_schemas">add_schemas</h3>

```python
Smores.add_schemas(self, schemas)
```

Registers schema(s)

__Arguments:__

	schemas (Schema|list): schemas to register

<h3 id="smores.smores.Smores.with_schemas">with_schemas</h3>

```python
Smores.with_schemas(*args, **kwds)
```

Context manager that registers schemas temporarily

__Arguments:__

	schemas (list|Schema):  single schema or list of schemas

__Example:__

	class Event(Schema):
		time = fields.DateTime()
		description = fields.String()

	with smores.with_schemas(Event):
__Event schema available here__

		smores.render(someDate, someTemplate)

__Event schema is removed on exit__


<h3 id="smores.smores.Smores.add_module_schemas">add_module_schemas</h3>

```python
Smores.add_module_schemas(self, module_)
```

Adds all Schema classes found in module_

__Arguments:__

	module_ (module): Registers schema classes from this module

<h3 id="smores.smores.Smores.schema">schema</h3>

```python
Smores.schema(self, schema)
```

A class decorator that registers a marshmallow schema

__Example:__

	smores = Smores()

	@smores.schema
	class User(Schema):
		name = fields.String()
		email = fields.Email()

